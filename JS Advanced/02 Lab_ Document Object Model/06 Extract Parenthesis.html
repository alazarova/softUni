<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Extract Parenthesis</title>
</head>

<body>
    <p id="content">
        Rakiya (Bulgarian brandy) is home-made liquor (alcoholic drink). It can be made of grapes, plums or other
        fruits (even apples).
    </p>


    <script>
        function extract(elementId) {
            let parent = document.getElementById(elementId).textContent;
            let pattern = /\(([^)]+)\)/g;
            let result = [];
            let match = pattern.exec(parent);
            // console.log(match);

            while (match) {
                result.push(match[1]);
                match = pattern.exec(parent);
            }
            return result.join('; ')

            // let parent = document.getElementById(elementId).textContent;
            //              let result = [];
            //     let open = parent.indexOf('(');
            //     while(open !== -1){
            //         let close = parent.indexOf(')', open + 1);
            //         if(close === -1) break;

            //         result.push(parent.substring(open + 1, close));
            //          open = parent.indexOf('(', close + 1);
            //     }
            //     return result.join('; ');
        }
        let content = extract('content');
        document.getElementById('content').textContent = content;
    </script>
</body>

</html>